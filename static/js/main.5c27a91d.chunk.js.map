{"version":3,"sources":["SearchImageApp/Loader/Loader.module.css","SearchImageApp/Searchbar/Searchbar.js","SearchImageApp/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","SearchImageApp/Loader/Loader.js","SearchImageApp/ImageGallery/ImageGallery.js","SearchImageApp/Modal/Modal.js","SearchImageApp/services/FetchAPI.js","SearchImageApp/SearchImageApp.js","index.js"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","split","join","className","this","type","onChange","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","item","onClickImg","src","webformatURL","alt","tags","onClick","defaultProps","App","styles","container","color","height","width","ImageGallery","list","onClickLoadMore","isLoading","map","key","id","length","Modal","handleClickCloseModal","currentTarget","closeModal","handleKeyCloseModal","code","document","querySelector","addEventListener","window","removeEventListener","largeURL","options","BASE_URL","KEY","getData","searchQuery","page","per_page","fetch","then","_","json","data","hits","SearchImageApp","imgList","error","isModal","handleCloseModal","handleNewSearchSubmit","query","handleClickLoadMore","fetchData","handleClickImg","a","FetchAPI","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c27a91d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__1NgbO\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends React.Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      inputValue: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.inputValue) {\r\n      this.props.onSubmit(this.state.inputValue.split(\" \").join(\"+\"));\r\n      this.setState({ inputValue: \"\" });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ item, onClickImg }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={item.webformatURL}\r\n        alt={item.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => onClickImg(item.webformatURL, item.tags)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.defaultProps = {\r\n  item: {\r\n    webformatURL:\r\n      \"https://lh3.googleusercontent.com/proxy/iW2AJeBfDYYaEzF0OksrTmE3ZrkYjNeOY-lGP70ln4s4ILkhNk9LK1-zqE911gxfi5mTstEiJa6G6v-zE4Vy15Vc1lAKmbVbvrBd8iGNojydRL74geS1JmPJUHzM\",\r\n    tags: \"unknow\",\r\n  },\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />;\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nconst ImageGallery = ({ list, onClickLoadMore, isLoading, onClickImg }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {list.map((item) => (\r\n          <ImageGalleryItem item={item} key={item.id} onClickImg={onClickImg} />\r\n        ))}\r\n      </ul>\r\n      {list.length > 0 && !isLoading && (\r\n        <div className=\"btnContainer\">\r\n          <button type=\"button\" className=\"Button\" onClick={onClickLoadMore}>\r\n            Load more\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isLoading && <Loader />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.defaultProps = {\r\n  list: [],\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  list: PropTypes.arrayOf(PropTypes.object),\r\n  onClickLoadMore: PropTypes.func,\r\n  isLoading: PropTypes.bool,\r\n  onClickImg: PropTypes.func,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends React.Component {\r\n  static propTypes = {\r\n    largeURL: PropTypes.string,\r\n    alt: PropTypes.string,\r\n    closeModal: PropTypes.func,\r\n  };\r\n\r\n  handleClickCloseModal = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleKeyCloseModal = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    document\r\n      .querySelector(\"#Modal\")\r\n      .addEventListener(\"click\", this.handleClickCloseModal);\r\n    window.addEventListener(\"keydown\", this.handleKeyCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document\r\n      .querySelector(\"#Modal\")\r\n      .removeEventListener(\"click\", this.handleClickCloseModal);\r\n    window.removeEventListener(\"keydown\", this.handleKeyCloseModal);\r\n  }\r\n\r\n  render() {\r\n    const { largeURL, alt } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" id=\"Modal\">\r\n        <div className=\"Modal\">\r\n          <img src={largeURL} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","class FetchAPI {\r\n  options = {\r\n    BASE_URL: \"https://pixabay.com/api/?\",\r\n    KEY: \"16887620-e991db8737f2bb3a88bca8c81\",\r\n  };\r\n\r\n  getData = (searchQuery, page = 1, per_page = 6) => {\r\n    const { BASE_URL, KEY } = this.options;\r\n    return fetch(\r\n      `${BASE_URL}key=${KEY}&q=${searchQuery}&page=${page}&per_page=${per_page}`\r\n    )\r\n      .then((_) => _.json())\r\n      .then((data) => data.hits);\r\n  };\r\n}\r\n\r\nexport default new FetchAPI();\r\n","import React from \"react\";\r\nimport Searchbar from \"./Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\nimport Modal from \"./Modal/Modal\";\r\n\r\nimport FetchAPI from \"./services/FetchAPI\";\r\n\r\nexport default class SearchImageApp extends React.Component {\r\n  state = {\r\n    imgList: [],\r\n    searchQuery: null,\r\n    page: 1,\r\n    error: null,\r\n    isLoading: false,\r\n    largeURL: null,\r\n    alt: null,\r\n    isModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchData();\r\n    }\r\n\r\n    if (\r\n      prevState.imgList.length !== 0 &&\r\n      prevState.imgList.length < this.state.imgList.length\r\n    ) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ isModal: false });\r\n  };\r\n\r\n  handleNewSearchSubmit = (query) => {\r\n    if (query === this.state.searchQuery) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      searchQuery: query,\r\n      page: 1,\r\n      imgList: [],\r\n    });\r\n  };\r\n\r\n  handleClickLoadMore = () => {\r\n    this.fetchData();\r\n  };\r\n\r\n  handleClickImg = (largeURL, alt) => {\r\n    this.setState({\r\n      largeURL,\r\n      alt,\r\n      isModal: true,\r\n    });\r\n  };\r\n\r\n  fetchData = async () => {\r\n    this.setState({ isLoading: true });\r\n    const { searchQuery, page } = this.state;\r\n    try {\r\n      const data = await FetchAPI.getData(searchQuery, page);\r\n      this.setState((state) => {\r\n        return {\r\n          page: state.page + 1,\r\n          imgList: [...state.imgList, ...data],\r\n        };\r\n      });\r\n    } catch (e) {\r\n      this.setState({ error: e });\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { imgList, isLoading, largeURL, alt } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleNewSearchSubmit} />\r\n        <ImageGallery\r\n          list={imgList}\r\n          isLoading={isLoading}\r\n          onClickLoadMore={this.handleClickLoadMore}\r\n          onClickImg={this.handleClickImg}\r\n        />\r\n        {this.state.isModal && (\r\n          <Modal\r\n            largeURL={largeURL}\r\n            alt={alt}\r\n            closeModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport SearchImageApp from \"./SearchImageApp/SearchImageApp\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SearchImageApp />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}