{"version":3,"sources":["SearchImageApp/components/Loader.module.css","SearchImageApp/components/Searchbar.js","SearchImageApp/components/ImageGalleryItem.js","SearchImageApp/components/Loader.js","SearchImageApp/components/ImageGallery.js","SearchImageApp/components/Modal.js","SearchImageApp/utils/FetchAPI.js","SearchImageApp/SearchImageApp.js","index.js"],"names":["module","exports","Searchbar","state","keyword","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","props","onNewQuery","split","join","className","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","React","Component","ImageGalleryItem","image","onOpenModal","src","webformatURL","alt","tags","onClick","App","styles","container","color","height","width","ImageGallery","images","onLoadMore","isLoading","map","item","key","id","length","Modal","handleCloseModal","currentTarget","code","closeModal","document","querySelector","addEventListener","window","removeEventListener","imgURL","description","BASE_URL","KEY","query","page","per_page","fetch","then","_","json","data","hits","SearchImageApp","error","modal","isModal","handleOpenModal","handleNewQuery","handleLoadMore","fetchData","a","FetchAPI","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cbd21af6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__2LSfu\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends React.Component {\r\n  static propTypes = {\r\n    onNewQuery: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    keyword: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { keyword } = this.state;\r\n    if (keyword) {\r\n      this.props.onNewQuery(keyword.split(\" \").join(\"+\"));\r\n      this.setState({ keyword: \"\" });\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            name=\"keyword\"\r\n            value={this.state.keyword}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ image, onOpenModal }) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={() => onOpenModal(image.webformatURL, image.tags)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.container}>\r\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />;\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst ImageGallery = ({ images, onLoadMore, isLoading, onOpenModal }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {images.map((item) => (\r\n          <ImageGalleryItem\r\n            image={item}\r\n            key={item.id}\r\n            onOpenModal={onOpenModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n      {images.length > 0 && !isLoading && (\r\n        <div className=\"btnContainer\">\r\n          <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n            Load more\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isLoading && <Loader />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onLoadMore: PropTypes.func.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends React.Component {\r\n  static propTypes = {\r\n    imgURL: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n    closeModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleCloseModal = (e) => {\r\n    if (e.target === e.currentTarget || e.code === \"Escape\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    document\r\n      .querySelector(\"#Modal\")\r\n      .addEventListener(\"click\", this.handleCloseModal);\r\n    window.addEventListener(\"keydown\", this.handleCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document\r\n      .querySelector(\"#Modal\")\r\n      .removeEventListener(\"click\", this.handleCloseModal);\r\n    window.removeEventListener(\"keydown\", this.handleCloseModal);\r\n  }\r\n\r\n  render() {\r\n    const { imgURL, description } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" id=\"Modal\">\r\n        <div className=\"Modal\">\r\n          <img src={imgURL} alt={description} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const BASE_URL = \"https://pixabay.com/api/?\";\r\nconst KEY = \"16887620-e991db8737f2bb3a88bca8c81\";\r\n\r\nconst getData = (query, page = 1, per_page = 6) => {\r\n  return fetch(\r\n    `${BASE_URL}key=${KEY}&q=${query}&page=${page}&per_page=${per_page}`\r\n  )\r\n    .then((_) => _.json())\r\n    .then((data) => data.hits);\r\n};\r\n\r\nexport default { getData };\r\n","import React from \"react\";\r\n\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport Modal from \"./components/Modal\";\r\n\r\nimport FetchAPI from \"./utils/FetchAPI\";\r\n\r\nexport default class SearchImageApp extends React.Component {\r\n  state = {\r\n    images: [],\r\n    query: null,\r\n    page: 1,\r\n    error: null,\r\n    isLoading: false,\r\n    modal: {\r\n      isModal: false,\r\n      imgURL: null,\r\n      description: null,\r\n    },\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = this.state.query;\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchData();\r\n    }\r\n    // Activation scrollTo - nedd refactoring\r\n    if (\r\n      prevState.images.length !== 0 &&\r\n      prevState.images.length < this.state.images.length\r\n    ) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  handleOpenModal = (imgURL, description) => {\r\n    this.setState({\r\n      modal: {\r\n        imgURL,\r\n        description,\r\n        isModal: true,\r\n      },\r\n    });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({\r\n      modal: {\r\n        imgURL: null,\r\n        description: null,\r\n        isModal: false,\r\n      },\r\n    });\r\n  };\r\n\r\n  handleNewQuery = (query) => {\r\n    if (query === this.state.query) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      query,\r\n      page: 1,\r\n      images: [],\r\n    });\r\n  };\r\n\r\n  handleLoadMore = () => {\r\n    this.fetchData();\r\n  };\r\n\r\n  fetchData = async () => {\r\n    this.setState({ isLoading: true });\r\n    const { query, page } = this.state;\r\n    try {\r\n      const data = await FetchAPI.getData(query, page);\r\n      this.setState((state) => {\r\n        return {\r\n          page: state.page + 1,\r\n          images: [...state.images, ...data],\r\n        };\r\n      });\r\n    } catch (e) {\r\n      this.setState({ error: e });\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      images,\r\n      isLoading,\r\n      modal: { imgURL, description, isModal },\r\n    } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <Searchbar onNewQuery={this.handleNewQuery} />\r\n        <ImageGallery\r\n          images={images}\r\n          isLoading={isLoading}\r\n          onLoadMore={this.handleLoadMore}\r\n          onOpenModal={this.handleOpenModal}\r\n        />\r\n        {isModal && (\r\n          <Modal\r\n            imgURL={imgURL}\r\n            description={description}\r\n            closeModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport SearchImageApp from \"./SearchImageApp/SearchImageApp\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <SearchImageApp />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}