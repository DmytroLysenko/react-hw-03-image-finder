(this["webpackJsonpreact-hw-03-image-finder"]=this["webpackJsonpreact-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={container:"Loader_container__1NgbO"}},13:function(e,t,a){e.exports=a(42)},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),c=a(6),i=a.n(c),s=a(7),u=a(10),m=a(2),h=a(3),d=a(5),p=a(4),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handleChange=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.state.inputValue&&(e.props.onSubmit(e.state.inputValue.split(" ").join("+")),e.setState({inputValue:""}))},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",value:this.state.inputValue,onChange:this.handleChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})))}}]),a}(r.a.Component),f=function(e){var t=e.item,a=e.onClickImg;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image",onClick:function(){return a(t.webformatURL,t.tags)}}))},b=f;f.defaultProps={item:{webformatURL:"https://lh3.googleusercontent.com/proxy/iW2AJeBfDYYaEzF0OksrTmE3ZrkYjNeOY-lGP70ln4s4ILkhNk9LK1-zqE911gxfi5mTstEiJa6G6v-zE4Vy15Vc1lAKmbVbvrBd8iGNojydRL74geS1JmPJUHzM",tags:"unknow"}};var v=a(11),y=a.n(v),E=(a(40),a(12)),k=a.n(E),L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:k.a.container},r.a.createElement(y.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),";")}}]),a}(r.a.Component),C=function(e){var t=e.list,a=e.onClickLoadMore,n=e.isLoading,o=e.onClickImg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(b,{item:e,key:e.id,onClickImg:o})}))),t.length>0&&!n&&r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{type:"button",className:"Button",onClick:a},"Load more")),n&&r.a.createElement(L,null))},S=C;C.defaultProps={list:[]};var M=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClickCloseModal=function(t){t.target===t.currentTarget&&e.props.closeModal()},e.handleKeyCloseModal=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.querySelector("#Modal").addEventListener("click",this.handleClickCloseModal),window.addEventListener("keydown",this.handleKeyCloseModal)}},{key:"componentWillUnmount",value:function(){document.querySelector("#Modal").removeEventListener("click",this.handleClickCloseModal),window.removeEventListener("keydown",this.handleKeyCloseModal)}},{key:"render",value:function(){var e=this.props,t=e.largeURL,a=e.alt;return r.a.createElement("div",{className:"Overlay",id:"Modal"},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:a})))}}]),a}(r.a.Component),w=new function e(){var t=this;Object(m.a)(this,e),this.options={BASE_URL:"https://pixabay.com/api/?",KEY:"16887620-e991db8737f2bb3a88bca8c81"},this.getData=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=t.options,o=r.BASE_URL,l=r.KEY;return fetch("".concat(o,"key=").concat(l,"&q=").concat(e,"&page=").concat(a,"&per_page=").concat(n)).then((function(e){return e.json()})).then((function(e){return e.hits}))}},j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imgList:[],searchQuery:null,page:1,error:null,isLoading:!1,largeURL:null,alt:null,isModal:!1},e.handleCloseModal=function(){e.setState({isModal:!1})},e.handleNewSearchSubmit=function(t){t!==e.state.searchQuery&&e.setState({searchQuery:t,page:1,imgList:[]})},e.handleClickLoadMore=function(){e.fetchData()},e.handleClickImg=function(t,a){e.setState({largeURL:t,alt:a,isModal:!0})},e.fetchData=Object(u.a)(i.a.mark((function t(){var a,n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),a=e.state,n=a.searchQuery,r=a.page,t.prev=2,t.next=5,w.getData(n,r);case 5:o=t.sent,e.setState((function(e){return{page:e.page+1,imgList:[].concat(Object(s.a)(e.imgList),Object(s.a)(o))}})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.setState({error:t.t0});case 12:return t.prev=12,e.setState({isLoading:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])}))),e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.fetchData(),0!==t.imgList.length&&t.imgList.length<this.state.imgList.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.imgList,a=e.isLoading,n=e.largeURL,o=e.alt;return r.a.createElement("div",null,r.a.createElement(g,{onSubmit:this.handleNewSearchSubmit}),r.a.createElement(S,{list:t,isLoading:a,onClickLoadMore:this.handleClickLoadMore,onClickImg:this.handleClickImg}),this.state.isModal&&r.a.createElement(M,{largeURL:n,alt:o,closeModal:this.handleCloseModal}))}}]),a}(r.a.Component);a(41);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.5c27a91d.chunk.js.map